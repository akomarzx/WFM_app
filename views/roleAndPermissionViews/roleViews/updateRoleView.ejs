<% layout('./roleAndPermissionViews/roleAndPermissionLayout') %>
<div class="container-fluid">
    <div class="row">
        <div class="border border-secondary col-md-4 ms-2 mt-4 p-2">
            <h2>Update a Role</h2>
            <form action="/roles?_method=PUT" method="post">
                <select class="form-select" aria-label="Current roles" onChange='document.getElementById("role_name").value = getSelectedOption(this)' name="uuid">
                    <option selected>Select Role to Update</option>
                    <% roles.forEach(element => { %>
                        <option value="<%= element.uuid %>"><%= element.role_name %></option>
                    <% }) %>
                  </select>
                <div class="form-group mt-3">
                    <label for="role_name">Updated value: </label>
                    <input type="text" name="role_name" id="role_name">
                </div>
                <div class="form-group mt-3">
                    <button class="btn btn-secondary btn-sm" type="submit">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    function getSelectedOption(sel) {
        return sel.options[sel.selectedIndex].text;
    }   
</script>