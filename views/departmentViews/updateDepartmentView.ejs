<% layout('./departmentViews/departmentLayout') %>
<div class="container-fluid">
    <div class="row">
        <div class="border border-secondary col-md-4 ms-2 mt-4 p-2">
            <h2>Update a Department</h2>
            <form action="/departments?_method=PUT" method="post">
                <select class="form-select" aria-label="Current roles" onChange='document.getElementById("deptName").value = getSelectedOption(this)' name="uuid">
                    <option selected>Select Department to Update</option>
                    <% departments.forEach(element => { %>
                        <option value="<%= element.uuid %>"><%= element.deptName %></option>
                    <% }) %>
                  </select>
                <div class="form-group mt-3">
                    <label for="deptName">Updated value: </label>
                    <input type="text" name="deptName" id="deptName">
                </div>
                <div class="form-group mt-3">
                    <button class="btn btn-secondary btn-sm" type="submit">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    function getSelectedOption(sel) {
        return sel.options[sel.selectedIndex].text;
    }   
</script>